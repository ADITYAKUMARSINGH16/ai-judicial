:root {
  --bg-light: #f7f8fc;
  --bg-dark: #0f172a;
  --text-light: #111827;
  --text-dark: #f3f4f6;
  --card-light: #ffffff;
  --card-dark: #111827;
  --border-light: #e5e7eb;
  --border-dark: #334155;
  --accent: #6366f1;
  --accent-2: #8b5cf6;
  --smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ---------------- Layout safety & resets ---------------- */
html, body, #root {
  box-sizing: border-box;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* prevent horizontal scroll */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

*, *::before, *::after { box-sizing: inherit; }

/* Body theme defaults */
body {
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg-light);
  color: var(--text-light);
  transition: background 0.25s var(--smooth), color 0.25s var(--smooth);
}

/* When .dark exists on <html>, apply dark colors */
.dark body {
  background: var(--bg-dark);
  color: var(--text-dark);
}

/* Basic element constraints */
img, video, iframe, svg, pre, code { max-width: 100%; height: auto; display: block; }
* { word-wrap: break-word; }

/* ---------- Card / Panel baseline ---------- */
.card {
  background: var(--card-light);
  border: 1px solid var(--border-light);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.05);
  transition: background 0.25s var(--smooth), border 0.25s var(--smooth);
}

/* Basic dark overrides */
.dark .card { background: var(--card-dark); border: 1px solid var(--border-dark); }

/* ---------- Helpers used by components ---------- */
.case-card {
  padding: 12px;
  border-radius: 12px;
  border: 1px solid var(--border-light);
  background: var(--card-light);
  text-align: left;
}
.dark .case-card { background: var(--card-dark); border-color: var(--border-dark); }

/* panel class (used for quick-select and other side boxes) */
.panel {
  border-radius: 12px;
  border: 1px solid var(--border-light);
  background: var(--card-light);
  padding: 12px;
}
.dark .panel { background: var(--card-dark); border-color: var(--border-dark); }

/* fixed open button (keeps consistent layout) */
.case-open-btn {
  min-width: 64px;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0 12px;
  font-weight: 600;
  border-radius: 8px;
}

/* select baseline */
select {
  border-radius: 8px;
  padding-left: 10px;
  padding-right: 10px;
}

/* Ensure input placeholders are visible in dark mode */
.dark input::placeholder, .dark textarea::placeholder {
  color: rgba(255,255,255,0.45);
}

/* Truncate long titles */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ---------- Light-mode explicit fixes ----------
   We use a top-level 'light' class on the app wrapper to ensure
   we can force-light styles for components that otherwise picked up dark
   values from inline dynamic classes.
*/
.light .card,
.light .case-card,
.light .panel {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  color: #111827 !important;
}

/* Selected case styling: both themes */
.case-selected {
  border-color: #c7d2fe !important;
}
.light .case-selected {
  background: #eef2ff !important; /* pale indigo tint for selection */
  color: #1e293b !important;
}
.dark .case-selected {
  background: rgba(79, 70, 229, 0.25) !important; /* indigo translucent */
  color: white !important;
}

/* Quick tool colored tiles (light/dark variants) */
.light .panel .p-2 { background: transparent; }
.dark .panel .p-2 { background: transparent; }

.light .panel .bg-indigo-50, .light .panel .bg-green-50, .light .panel .bg-yellow-50 {
  /* fallback if used */
}

/* Small visual niceties */
button[aria-label] { cursor: pointer; }

/* Accessibility: focus outlines */
:focus {
  outline-color: rgba(99,102,241,0.6);
  outline-offset: 2px;
}

/* prevent huge elements from causing horizontal scroll */
.max-w-6xl { max-width: 1280px; margin-left: auto; margin-right: auto; }

/* small responsive tweak */
@media (max-width: 768px) {
  .max-w-6xl { padding-left: 12px; padding-right: 12px; }
  .case-open-btn { height: 40px; min-width: 56px; }
}
